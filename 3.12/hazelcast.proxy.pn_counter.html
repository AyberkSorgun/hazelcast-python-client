
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>PNCounter &#8212; Hazelcast Python Client 3.12 documentation</title>
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="ReplicatedMap" href="hazelcast.proxy.replicated_map.html" />
    <link rel="prev" title="Queue" href="hazelcast.proxy.queue.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="hazelcast.proxy.replicated_map.html" title="ReplicatedMap"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="hazelcast.proxy.queue.html" title="Queue"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Hazelcast Python Client 3.12 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="hazelcast.html" >Hazelcast Python Client</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="hazelcast.proxy.html" accesskey="U">Hazelcast Proxies</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="module-hazelcast.proxy.pn_counter">
<span id="pncounter"></span><h1>PNCounter<a class="headerlink" href="#module-hazelcast.proxy.pn_counter" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="hazelcast.proxy.pn_counter.PNCounter">
<em class="property">class </em><code class="descname">PNCounter</code><span class="sig-paren">(</span><em>client</em>, <em>service_name</em>, <em>name</em><span class="sig-paren">)</span><a class="headerlink" href="#hazelcast.proxy.pn_counter.PNCounter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="hazelcast.proxy.base.html#hazelcast.proxy.base.Proxy" title="hazelcast.proxy.base.Proxy"><code class="xref py py-class docutils literal notranslate"><span class="pre">hazelcast.proxy.base.Proxy</span></code></a></p>
<p>PN (Positive-Negative) CRDT counter.</p>
<p>The counter supports adding and subtracting values as well as
retrieving the current counter value.
Each replica of this counter can perform operations locally without
coordination with the other replicas, thus increasing availability.
The counter guarantees that whenever two nodes have received the
same set of updates, possibly in a different order, their state is
identical, and any conflicting updates are merged automatically.
If no new updates are made to the shared state, all nodes that can
communicate will eventually have the same data.</p>
<p>When invoking updates from the client, the invocation is remote.
This may lead to indeterminate state - the update may be applied but the
response has not been received. In this case, the caller will be notified
with a TargetDisconnectedError.</p>
<p>The read and write methods provide monotonic read and RYW (read-your-write)
guarantees. These guarantees are session guarantees which means that if
no replica with the previously observed state is reachable, the session
guarantees are lost and the method invocation will throw a
ConsistencyLostError. This does not mean
that an update is lost. All of the updates are part of some replica and
will be eventually reflected in the state of all other replicas. This
exception just means that you cannot observe your own writes because
all replicas that contain your updates are currently unreachable.
After you have received a ConsistencyLostError, you can either
wait for a sufficiently up-to-date replica to become reachable in which
case the session can be continued or you can reset the session by calling
the reset() method. If you have called the reset() method,
a new session is started with the next invocation to a CRDT replica.</p>
<p>NOTE:
The CRDT state is kept entirely on non-lite (data) members. If there
aren’t any and the methods here are invoked on a lite member, they will
fail with an NoDataMemberInClusterError.</p>
<p>Requires Hazelcast IMDG 3.10+.</p>
<dl class="method">
<dt id="hazelcast.proxy.pn_counter.PNCounter.get">
<code class="descname">get</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#hazelcast.proxy.pn_counter.PNCounter.get" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the current value of the counter.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first simple">
<li><a class="reference internal" href="hazelcast.exception.html#hazelcast.exception.NoDataMemberInClusterError" title="hazelcast.exception.NoDataMemberInClusterError"><strong>NoDataMemberInClusterError</strong></a> – if the cluster does not contain any data members.</li>
<li><a class="reference internal" href="hazelcast.exception.html#hazelcast.exception.UnsupportedOperationError" title="hazelcast.exception.UnsupportedOperationError"><strong>UnsupportedOperationError</strong></a> – if the cluster version is less than 3.10.</li>
<li><a class="reference internal" href="hazelcast.exception.html#hazelcast.exception.ConsistencyLostError" title="hazelcast.exception.ConsistencyLostError"><strong>ConsistencyLostError</strong></a> – if the session guarantees have been lost.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">(int), the current value of the counter.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="hazelcast.proxy.pn_counter.PNCounter.get_and_add">
<code class="descname">get_and_add</code><span class="sig-paren">(</span><em>delta</em><span class="sig-paren">)</span><a class="headerlink" href="#hazelcast.proxy.pn_counter.PNCounter.get_and_add" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds the given value to the current value and returns the previous value.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first simple">
<li><a class="reference internal" href="hazelcast.exception.html#hazelcast.exception.NoDataMemberInClusterError" title="hazelcast.exception.NoDataMemberInClusterError"><strong>NoDataMemberInClusterError</strong></a> – if the cluster does not contain any data members.</li>
<li><a class="reference internal" href="hazelcast.exception.html#hazelcast.exception.UnsupportedOperationError" title="hazelcast.exception.UnsupportedOperationError"><strong>UnsupportedOperationError</strong></a> – if the cluster version is less than 3.10.</li>
<li><a class="reference internal" href="hazelcast.exception.html#hazelcast.exception.ConsistencyLostError" title="hazelcast.exception.ConsistencyLostError"><strong>ConsistencyLostError</strong></a> – if the session guarantees have been lost.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>delta</strong> – (int), the value to add.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">(int), the previous value.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="hazelcast.proxy.pn_counter.PNCounter.add_and_get">
<code class="descname">add_and_get</code><span class="sig-paren">(</span><em>delta</em><span class="sig-paren">)</span><a class="headerlink" href="#hazelcast.proxy.pn_counter.PNCounter.add_and_get" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds the given value to the current value and returns the updated value.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first simple">
<li><a class="reference internal" href="hazelcast.exception.html#hazelcast.exception.NoDataMemberInClusterError" title="hazelcast.exception.NoDataMemberInClusterError"><strong>NoDataMemberInClusterError</strong></a> – if the cluster does not contain any data members.</li>
<li><a class="reference internal" href="hazelcast.exception.html#hazelcast.exception.UnsupportedOperationError" title="hazelcast.exception.UnsupportedOperationError"><strong>UnsupportedOperationError</strong></a> – if the cluster version is less than 3.10.</li>
<li><a class="reference internal" href="hazelcast.exception.html#hazelcast.exception.ConsistencyLostError" title="hazelcast.exception.ConsistencyLostError"><strong>ConsistencyLostError</strong></a> – if the session guarantees have been lost.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>delta</strong> – (int), the value to add.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">(int), the updated value.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="hazelcast.proxy.pn_counter.PNCounter.get_and_subtract">
<code class="descname">get_and_subtract</code><span class="sig-paren">(</span><em>delta</em><span class="sig-paren">)</span><a class="headerlink" href="#hazelcast.proxy.pn_counter.PNCounter.get_and_subtract" title="Permalink to this definition">¶</a></dt>
<dd><p>Subtracts the given value from the current value and returns the previous value.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first simple">
<li><a class="reference internal" href="hazelcast.exception.html#hazelcast.exception.NoDataMemberInClusterError" title="hazelcast.exception.NoDataMemberInClusterError"><strong>NoDataMemberInClusterError</strong></a> – if the cluster does not contain any data members.</li>
<li><a class="reference internal" href="hazelcast.exception.html#hazelcast.exception.UnsupportedOperationError" title="hazelcast.exception.UnsupportedOperationError"><strong>UnsupportedOperationError</strong></a> – if the cluster version is less than 3.10.</li>
<li><a class="reference internal" href="hazelcast.exception.html#hazelcast.exception.ConsistencyLostError" title="hazelcast.exception.ConsistencyLostError"><strong>ConsistencyLostError</strong></a> – if the session guarantees have been lost.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>delta</strong> – (int), the value to subtract.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">(int), the previous value.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="hazelcast.proxy.pn_counter.PNCounter.subtract_and_get">
<code class="descname">subtract_and_get</code><span class="sig-paren">(</span><em>delta</em><span class="sig-paren">)</span><a class="headerlink" href="#hazelcast.proxy.pn_counter.PNCounter.subtract_and_get" title="Permalink to this definition">¶</a></dt>
<dd><p>Subtracts the given value from the current value and returns the updated value.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first simple">
<li><a class="reference internal" href="hazelcast.exception.html#hazelcast.exception.NoDataMemberInClusterError" title="hazelcast.exception.NoDataMemberInClusterError"><strong>NoDataMemberInClusterError</strong></a> – if the cluster does not contain any data members.</li>
<li><a class="reference internal" href="hazelcast.exception.html#hazelcast.exception.UnsupportedOperationError" title="hazelcast.exception.UnsupportedOperationError"><strong>UnsupportedOperationError</strong></a> – if the cluster version is less than 3.10.</li>
<li><a class="reference internal" href="hazelcast.exception.html#hazelcast.exception.ConsistencyLostError" title="hazelcast.exception.ConsistencyLostError"><strong>ConsistencyLostError</strong></a> – if the session guarantees have been lost.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>delta</strong> – (int), the value to subtract.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">(int), the updated value.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="hazelcast.proxy.pn_counter.PNCounter.get_and_decrement">
<code class="descname">get_and_decrement</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#hazelcast.proxy.pn_counter.PNCounter.get_and_decrement" title="Permalink to this definition">¶</a></dt>
<dd><p>Decrements the counter value by one and returns the previous value.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first simple">
<li><a class="reference internal" href="hazelcast.exception.html#hazelcast.exception.NoDataMemberInClusterError" title="hazelcast.exception.NoDataMemberInClusterError"><strong>NoDataMemberInClusterError</strong></a> – if the cluster does not contain any data members.</li>
<li><a class="reference internal" href="hazelcast.exception.html#hazelcast.exception.UnsupportedOperationError" title="hazelcast.exception.UnsupportedOperationError"><strong>UnsupportedOperationError</strong></a> – if the cluster version is less than 3.10.</li>
<li><a class="reference internal" href="hazelcast.exception.html#hazelcast.exception.ConsistencyLostError" title="hazelcast.exception.ConsistencyLostError"><strong>ConsistencyLostError</strong></a> – if the session guarantees have been lost.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">(int), the previous value.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="hazelcast.proxy.pn_counter.PNCounter.decrement_and_get">
<code class="descname">decrement_and_get</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#hazelcast.proxy.pn_counter.PNCounter.decrement_and_get" title="Permalink to this definition">¶</a></dt>
<dd><p>Decrements the counter value by one and returns the updated value.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first simple">
<li><a class="reference internal" href="hazelcast.exception.html#hazelcast.exception.NoDataMemberInClusterError" title="hazelcast.exception.NoDataMemberInClusterError"><strong>NoDataMemberInClusterError</strong></a> – if the cluster does not contain any data members.</li>
<li><a class="reference internal" href="hazelcast.exception.html#hazelcast.exception.UnsupportedOperationError" title="hazelcast.exception.UnsupportedOperationError"><strong>UnsupportedOperationError</strong></a> – if the cluster version is less than 3.10.</li>
<li><a class="reference internal" href="hazelcast.exception.html#hazelcast.exception.ConsistencyLostError" title="hazelcast.exception.ConsistencyLostError"><strong>ConsistencyLostError</strong></a> – if the session guarantees have been lost.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">(int), the updated value.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="hazelcast.proxy.pn_counter.PNCounter.get_and_increment">
<code class="descname">get_and_increment</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#hazelcast.proxy.pn_counter.PNCounter.get_and_increment" title="Permalink to this definition">¶</a></dt>
<dd><p>Increments the counter value by one and returns the previous value.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first simple">
<li><a class="reference internal" href="hazelcast.exception.html#hazelcast.exception.NoDataMemberInClusterError" title="hazelcast.exception.NoDataMemberInClusterError"><strong>NoDataMemberInClusterError</strong></a> – if the cluster does not contain any data members.</li>
<li><a class="reference internal" href="hazelcast.exception.html#hazelcast.exception.UnsupportedOperationError" title="hazelcast.exception.UnsupportedOperationError"><strong>UnsupportedOperationError</strong></a> – if the cluster version is less than 3.10.</li>
<li><a class="reference internal" href="hazelcast.exception.html#hazelcast.exception.ConsistencyLostError" title="hazelcast.exception.ConsistencyLostError"><strong>ConsistencyLostError</strong></a> – if the session guarantees have been lost.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">(int), the previous value.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="hazelcast.proxy.pn_counter.PNCounter.increment_and_get">
<code class="descname">increment_and_get</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#hazelcast.proxy.pn_counter.PNCounter.increment_and_get" title="Permalink to this definition">¶</a></dt>
<dd><p>Increments the counter value by one and returns the updated value.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first simple">
<li><a class="reference internal" href="hazelcast.exception.html#hazelcast.exception.NoDataMemberInClusterError" title="hazelcast.exception.NoDataMemberInClusterError"><strong>NoDataMemberInClusterError</strong></a> – if the cluster does not contain any data members.</li>
<li><a class="reference internal" href="hazelcast.exception.html#hazelcast.exception.UnsupportedOperationError" title="hazelcast.exception.UnsupportedOperationError"><strong>UnsupportedOperationError</strong></a> – if the cluster version is less than 3.10.</li>
<li><a class="reference internal" href="hazelcast.exception.html#hazelcast.exception.ConsistencyLostError" title="hazelcast.exception.ConsistencyLostError"><strong>ConsistencyLostError</strong></a> – if the session guarantees have been lost.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">(int), the updated value.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="hazelcast.proxy.pn_counter.PNCounter.reset">
<code class="descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#hazelcast.proxy.pn_counter.PNCounter.reset" title="Permalink to this definition">¶</a></dt>
<dd><p>Resets the observed state by this PN counter. This method may be used
after a method invocation has thrown a <cite>ConsistencyLostError</cite>
to reset the proxy and to be able to start a new session.</p>
</dd></dl>

</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="hazelcast.proxy.queue.html"
                        title="previous chapter">Queue</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="hazelcast.proxy.replicated_map.html"
                        title="next chapter">ReplicatedMap</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/hazelcast.proxy.pn_counter.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="hazelcast.proxy.replicated_map.html" title="ReplicatedMap"
             >next</a> |</li>
        <li class="right" >
          <a href="hazelcast.proxy.queue.html" title="Queue"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Hazelcast Python Client 3.12 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="hazelcast.html" >Hazelcast Python Client</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="hazelcast.proxy.html" >Hazelcast Proxies</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2019, Hazelcast Inc..
    </div>
  </body>
</html>
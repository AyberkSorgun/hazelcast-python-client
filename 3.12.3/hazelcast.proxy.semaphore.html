
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Semaphore &#8212; Hazelcast Python Client 3.12.3 documentation</title>
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Set" href="hazelcast.proxy.set.html" />
    <link rel="prev" title="RingBuffer" href="hazelcast.proxy.ringbuffer.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="hazelcast.proxy.set.html" title="Set"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="hazelcast.proxy.ringbuffer.html" title="RingBuffer"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Hazelcast Python Client 3.12.3 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="hazelcast.html" >Hazelcast Python Client</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="hazelcast.proxy.html" accesskey="U">Hazelcast Proxies</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="module-hazelcast.proxy.semaphore">
<span id="semaphore"></span><h1>Semaphore<a class="headerlink" href="#module-hazelcast.proxy.semaphore" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="hazelcast.proxy.semaphore.Semaphore">
<em class="property">class </em><code class="sig-name descname">Semaphore</code><span class="sig-paren">(</span><em class="sig-param">client</em>, <em class="sig-param">service_name</em>, <em class="sig-param">name</em><span class="sig-paren">)</span><a class="headerlink" href="#hazelcast.proxy.semaphore.Semaphore" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="hazelcast.proxy.base.html#hazelcast.proxy.base.PartitionSpecificProxy" title="hazelcast.proxy.base.PartitionSpecificProxy"><code class="xref py py-class docutils literal notranslate"><span class="pre">hazelcast.proxy.base.PartitionSpecificProxy</span></code></a></p>
<p>Semaphore is a backed-up distributed alternative to the Python <a class="reference external" href="https://docs.python.org/3/library/asyncio-sync.html">asyncio.Semaphore</a></p>
<p>Semaphore is a cluster-wide counting semaphore. Conceptually, it maintains a set of permits. Each acquire() blocks
if necessary until a permit is available, and then takes it. Each release() adds a permit, potentially releasing a
blocking acquirer. However, no actual permit objects are used; the semaphore just keeps a count of the number
available and acts accordingly.</p>
<p>The Hazelcast distributed semaphore implementation guarantees that threads invoking any of the acquire methods are
selected to obtain permits in the order in which their invocation of those methods was processed(first-in-first-out;
FIFO). Note that FIFO ordering necessarily applies to specific internal points of execution within the cluster.
Therefore, it is possible for one member to invoke acquire before another, but reach the ordering point after the
other, and similarly upon return from the method.</p>
<p>This class also provides convenience methods to acquire and release multiple permits at a time. Beware of the
increased risk of indefinite postponement when using the multiple acquire. If a single permit is released to a
semaphore that is currently blocking, a thread waiting for one permit will acquire it before a thread waiting for
multiple permits regardless of the call order.</p>
<dl class="method">
<dt id="hazelcast.proxy.semaphore.Semaphore.init">
<code class="sig-name descname">init</code><span class="sig-paren">(</span><em class="sig-param">permits</em><span class="sig-paren">)</span><a class="headerlink" href="#hazelcast.proxy.semaphore.Semaphore.init" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to initialize this Semaphore instance with the given permit count.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>permits</strong> – (int), the given permit count.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>(bool), <code class="docutils literal notranslate"><span class="pre">true</span></code> if initialization success.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="hazelcast.proxy.semaphore.Semaphore.acquire">
<code class="sig-name descname">acquire</code><span class="sig-paren">(</span><em class="sig-param">permits=1</em><span class="sig-paren">)</span><a class="headerlink" href="#hazelcast.proxy.semaphore.Semaphore.acquire" title="Permalink to this definition">¶</a></dt>
<dd><p>Acquires one or specified amount of permits if available, and returns immediately, reducing the number of
available permits by one or given amount.</p>
<p>If insufficient permits are available then the current thread becomes disabled for thread scheduling purposes
and lies dormant until one of following happens:</p>
<blockquote>
<div><ul class="simple">
<li><p>some other thread invokes one of the release methods for this semaphore, the current thread is next to be</p></li>
</ul>
<p>assigned permits and the number of available permits satisfies this request,
* this Semaphore instance is destroyed, or
* some other thread interrupts the current thread.</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>permits</strong> – (int), the number of permits to acquire (optional).</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="hazelcast.proxy.semaphore.Semaphore.available_permits">
<code class="sig-name descname">available_permits</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#hazelcast.proxy.semaphore.Semaphore.available_permits" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the current number of permits currently available in this semaphore.</p>
<blockquote>
<div><ul class="simple">
<li><p>This method is typically used for debugging and testing purposes.</p></li>
</ul>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>(int), the number of available permits in this semaphore.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="hazelcast.proxy.semaphore.Semaphore.drain_permits">
<code class="sig-name descname">drain_permits</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#hazelcast.proxy.semaphore.Semaphore.drain_permits" title="Permalink to this definition">¶</a></dt>
<dd><p>Acquires and returns all permits that are immediately available.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>(int), the number of permits drained.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="hazelcast.proxy.semaphore.Semaphore.reduce_permits">
<code class="sig-name descname">reduce_permits</code><span class="sig-paren">(</span><em class="sig-param">reduction</em><span class="sig-paren">)</span><a class="headerlink" href="#hazelcast.proxy.semaphore.Semaphore.reduce_permits" title="Permalink to this definition">¶</a></dt>
<dd><p>Shrinks the number of available permits by the indicated reduction. This method differs from acquire in that it
does not block waiting for permits to become available.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>reduction</strong> – (int),  the number of permits to remove.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="hazelcast.proxy.semaphore.Semaphore.release">
<code class="sig-name descname">release</code><span class="sig-paren">(</span><em class="sig-param">permits=1</em><span class="sig-paren">)</span><a class="headerlink" href="#hazelcast.proxy.semaphore.Semaphore.release" title="Permalink to this definition">¶</a></dt>
<dd><p>Releases one or given number of permits, increasing the number of available permits by one or that amount.</p>
<p>There is no requirement that a thread that releases a permit must have acquired that permit by calling one of
the acquire methods. Correct usage of a semaphore is established by programming convention in the application.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>permits</strong> – (int), the number of permits to release (optional).</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="hazelcast.proxy.semaphore.Semaphore.try_acquire">
<code class="sig-name descname">try_acquire</code><span class="sig-paren">(</span><em class="sig-param">permits=1</em>, <em class="sig-param">timeout=0</em><span class="sig-paren">)</span><a class="headerlink" href="#hazelcast.proxy.semaphore.Semaphore.try_acquire" title="Permalink to this definition">¶</a></dt>
<dd><p>Tries to acquire one or the given number of permits, if they are available, and returns immediately, with the
value <code class="docutils literal notranslate"><span class="pre">true</span></code>, reducing the number of available permits by the given amount.</p>
<p>If there are insufficient permits and a timeout is provided, the current thread becomes disabled for thread
scheduling purposes and lies dormant until one of following happens:</p>
<blockquote>
<div><ul class="simple">
<li><p>some other thread invokes the release() method for this semaphore and the current thread is next to be</p></li>
</ul>
<p>assigned a permit, or
* some other thread interrupts the current thread, or
* the specified waiting time elapses.</p>
</div></blockquote>
<p>If there are insufficient permits and no timeout is provided, this method will return immediately with the value
<code class="docutils literal notranslate"><span class="pre">false</span></code> and the number of available permits is unchanged.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>permits</strong> – (int), the number of permits to acquire (optional).</p></li>
<li><p><strong>timeout</strong> – (long), the maximum time in seconds to wait for the permit(s) (optional).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>(bool), <code class="docutils literal notranslate"><span class="pre">true</span></code> if desired amount of permits was acquired, <code class="docutils literal notranslate"><span class="pre">false</span></code> otherwise.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="hazelcast.proxy.ringbuffer.html"
                        title="previous chapter">RingBuffer</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="hazelcast.proxy.set.html"
                        title="next chapter">Set</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/hazelcast.proxy.semaphore.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="hazelcast.proxy.set.html" title="Set"
             >next</a> |</li>
        <li class="right" >
          <a href="hazelcast.proxy.ringbuffer.html" title="RingBuffer"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Hazelcast Python Client 3.12.3 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="hazelcast.html" >Hazelcast Python Client</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="hazelcast.proxy.html" >Hazelcast Proxies</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2020, Hazelcast Inc..
    </div>
  </body>
</html>